$INCLUDE "LibraryEx";

*$FROM Log
$EXTERN Log-PutLine;

*$FROM OptTree-AutoMarkup-Drive
$EXTERN OptTree-AutoMarkup-Drive;

*$FROM OptTree-AutoMarkup-Spec
$EXTERN OptTree-AutoMarkup-Spec;


/**
  <OptTree-AutoMarkup s.OptAutoMarkup e.AST> == e.AST
*/

$ENTRY OptTree-AutoMarkup {
  NoOpt e.AST
    = <Log-PutLine 'AutoMarkup is disabled'> :
    = e.AST;

  OptAutoMarkup e.AST
    = <OptTree-AutoMarkup-Spec e.AST> : e.AST^
    = <OptTree-AutoMarkup-Drive e.AST> : e.AST^
    = e.AST;
}
